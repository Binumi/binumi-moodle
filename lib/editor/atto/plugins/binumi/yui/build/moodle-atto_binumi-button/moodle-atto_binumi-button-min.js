YUI.add("moodle-atto_binumi-button",function(e,t){e.namespace("M.atto_binumi").Button=e.Base.create("button",e.M.editor_atto.EditorPlugin,[],{_chooser:null,initializer:function(){if(this.get("disabled"))return;this.addButton({icon:"icon",iconComponent:"atto_binumi",callback:this._initChooser});var e=this;window.addEventListener("message",function(t){e._dialogue.hide(),t.data.hasOwnProperty("embed")&&e._insertContent(t.data.embed)})},_initChooser:function(){var t=this.getDialogue({headerContent:"Binumi Chooser",width:"800px",focusAfterHide:!0}),n=e.Node.create("<iframe></iframe>");n.setStyles({height:"700px",border:"none",width:"100%"}),n.setAttribute("src",this.get("url")),t.set("bodyContent",n).show(),this.markUpdated()},_insertContent:function(t){var n=e.Node.create("<iframe></iframe>").setAttrs({width:"640",height:"364",src:t,frameborder:"0",scrolling:"no",mozallowfullscreen:"true",webkitallowfullscreen:"true",allowfullscreen:"true"});this.editor.focus();var r=n.getDOMNode().outerHTML;this.get("host").insertContentAtFocusPoint(r),this.markUpdated()}},{ATTRS:{disabled:{value:!1},chooser_js_url:{value:null},url:{value:null},mode:{value:"popup"}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});
